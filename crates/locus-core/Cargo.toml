[package]
name = "locus-core"
version = "0.1.0"
edition = "2024"
# No lints here

[dependencies]
nalgebra = "0.33"
rayon = "1.10"
bumpalo = { version = "3.16", features = ["collections"] }
multiversion = "0.7"
tracing = "0.1"
rerun = { version = "0.20", optional = true }
serde = { version = "1.0", features = ["derive"], optional = true }
rand = "0.8"
rand_distr = "0.4"

[dev-dependencies]
divan = "0.1"
proptest = "1.6"
rand_chacha = "0.3"
serde = { version = "1.0", features = ["derive"] }
serde_json = "1.0"
image = "0.25"
csv = "1.3"
walkdir = "2.5.0"
insta = { version = "1.41", features = ["yaml", "redactions"] }

[[bench]]
name = "threshold_bench"
harness = false

[[bench]]
name = "sota_threshold_bench"
harness = false


[[bench]]
name = "dictionary_bench"
harness = false

[[bench]]
name = "decoding_bench"
harness = false

[[bench]]
name = "segmentation_bench"
harness = false

[[bench]]
name = "comprehensive"
harness = false
required-features = ["extended-bench"]

[features]
default = []
viz = ["dep:rerun"]
serde = ["dep:serde", "nalgebra/serde-serialize"]
extended-tests = []
extended-bench = []

[lints]
workspace = true
