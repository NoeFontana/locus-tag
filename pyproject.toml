[build-system]
requires = ["maturin>=1.0,<2.0"]
build-backend = "maturin"

[project]
name = "locus-tag"
version = "0.1.1"
description = "A high-performance fiducial marker detector for robotics."
authors = [{name = "NoÃ© Fontana"}]
requires-python = ">=3.10"
license = {text = "MIT OR Apache-2.0"}
classifiers = [
    "License :: OSI Approved :: MIT License",
    "License :: OSI Approved :: Apache Software License",
]
dependencies = ["numpy"]
 
[project.scripts]
locus-bench = "scripts.bench.run:main"
locus-viz = "scripts.debug.visualize:main"

[project.optional-dependencies]
validation = ["pydantic>=2.0"]
benchmark = [
    "opencv-python-headless",
    "pupil-apriltags",
    "tqdm",
    "huggingface-hub",
    "rerun-sdk",
]
docs = [
    "mkdocs>=1.5.0",
    "mkdocs-material>=9.5.0",
    "mkdocstrings[python]>=0.24.0",
]
dev = [
    "ruff>=0.14.14",
    "pyrefly>=0.50.1",
    "types-tqdm",
    "pandas-stubs",
    "pytest>=7.0.0",
]

[tool.maturin]
features = ["pyo3/extension-module"]
module-name = "locus"
python-source = "crates/locus-py"
manifest-path = "crates/locus-py/Cargo.toml"

[tool.ruff]
line-length = 100
target-version = "py310"

[tool.ruff.lint]
select = ["E", "F", "B", "UP", "SIM", "I"] # Pyflakes, pycodestyle, bugbear, pyupgrade, simplify, isort
ignore = ["E501"] # Line length handled by formatter

[dependency-groups]
dev = [
    "maturin>=1.11.5",
]

